(self.webpackChunkroot=self.webpackChunkroot||[]).push([[1670],{41670:function(y,j,r){"use strict";r.r(j),r.d(j,{default:function(){return V}});var E=r(57213),o=r.n(E),u=r(68683),s=r(50959),i={submit:"submit",reset:"reset",collapse:"collapse"},b={prefixCls:"schema-render",layoutColumnGap:10,layoutRowGap:15,actions:[i.reset,i.submit,i.collapse],defaultCollapsed:!0,collapsedRows:2},A=r(54306),S=r.n(A),N=r(88695),O=r(15752),v=r(88182),m=r(90597);function Z(e,c,a){var t,n;if(a)return a(e);if(!e)return 5;var l=e.clientWidth,d=((t=e.firstElementChild)===null||t===void 0||(n=t.getBoundingClientRect())===null||n===void 0?void 0:n.width)||320;return Math.floor(l/d)*c-1}var H=r(54689),P=r.n(H);function D(e,c){var a={},t=Object.keys(e.properties).slice(0,c),n=P()(t),l;try{for(n.s();!(l=n.n()).done;){var d=l.value;a[d]=e.properties[d]}}catch(h){n.e(h)}finally{n.f()}return{renderType:"Root",properties:a}}function W(e){var c=e.isCollapsed,a=e.rawSchema,t=e.collapsedNumber;return c?D(a,t):a}var I=r(32766);function $(e){return I.PO(e)?Object.keys(e).length:I.kJ(e)||I.HD(e)?e.length:0}var w=r(55225);function G(e,c){var a=(0,w.Z)(c),t=(0,s.useRef)(-1);(0,s.useEffect)(function(){var n,l=(n=e.current)===null||n===void 0?void 0:n.getRootElement();if(l){var d=new ResizeObserver(function(h){var p=h[0].contentRect.width;t.current!==p&&(t.current=p,a.current(l))});return d.observe(l),function(){return d.disconnect()}}},[])}var g=r(11527);function L(e,c){var a=e.schema,t=(0,s.useState)(e.defaultCollapsed),n=S()(t,2),l=n[0],d=n[1],h=(0,s.useState)(function(){var f;return Z((f=c.current)===null||f===void 0?void 0:f.getRootElement(),e.collapsedRows,e.calcCollapsedNumber)}),p=S()(h,2),x=p[0],X=p[1],z=(0,s.useRef)(a);(0,s.useMemo)(function(){z.current=W({isCollapsed:l,collapsedNumber:x,rawSchema:a})},[x,l,a]),G(c,function(f){X(Z(f,e.collapsedRows,e.calcCollapsedNumber))});var M=(0,v.Z)(function(f){var C;d(f),(C=e.onToggleCollapsed)===null||C===void 0||C.call(e,f)}),Y=(0,v.Z)(function(f){var C,R=f.locale;if($(a.properties)<=x)return null;if(l){var T;return(0,g.jsxs)(m.ZP,{type:"link",onClick:function(){return M(!1)},style:{padding:0},children:[R==null||(T=R.Search)===null||T===void 0?void 0:T.expand,(0,g.jsx)(N.Z,{})]})}return(0,g.jsxs)(m.ZP,{type:"link",onClick:function(){return M(!0)},style:{padding:0},children:[R==null||(C=R.Search)===null||C===void 0?void 0:C.collapse,(0,g.jsx)(O.Z,{})]})}),k=o()({collapse:Y},e.registerActions);return{schema:z.current,registerActions:k}}var F=r(87793),U=o()(o()({},F.Z),{},{FormRender:o()(o()({},F.Z.FormRender),{},{submit:"\u67E5\u8BE2"}),Search:{collapse:"\u6536\u8D77",expand:"\u5C55\u5F00"}}),B=r(98445);function J(e){return{className:B.Rk(e,"form-actions"),style:{gridColumnStart:-2,textAlign:"end"}}}var K=function(c,a){var t=o()(o()({},b),c),n=(0,s.useRef)(null),l=(0,s.useMemo)(function(){return o()(o()({},U),t.locale)},[t.locale]),d=L(t,n),h=d.schema,p=d.registerActions,x=(0,s.useMemo)(function(){return J(t.prefixCls)},[t.prefixCls]);return(0,s.useImperativeHandle)(a,function(){return n.current}),(0,g.jsx)(u.default,o()(o()({layout:"autoFill"},t),{},{ref:n,locale:l,schema:h,registerActions:p,actionsRestSchema:x,actionsRenderMode:"formItem"}))},Q=(0,s.forwardRef)(K),V=Q},54689:function(y,j,r){var E=r(41442);function o(u,s){var i=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!i){if(Array.isArray(u)||(i=E(u))||s&&u&&typeof u.length=="number"){i&&(u=i);var b=0,A=function(){};return{s:A,n:function(){return b>=u.length?{done:!0}:{done:!1,value:u[b++]}},e:function(m){throw m},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,N=!1,O;return{s:function(){i=i.call(u)},n:function(){var m=i.next();return S=m.done,m},e:function(m){N=!0,O=m},f:function(){try{!S&&i.return!=null&&i.return()}finally{if(N)throw O}}}}y.exports=o,y.exports.__esModule=!0,y.exports.default=y.exports}}]);
